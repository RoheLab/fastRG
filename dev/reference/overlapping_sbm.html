<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="To specify a overlapping stochastic blockmodel, you must specify
the number of nodes (via n),
the mixing matrix (via k or B), and the  block
probabilities (optional, via pi). We provide defaults for most of these
options to enable rapid exploration, or you can invest the effort
for more control over the model parameters. We strongly recommend
setting the expected_degree or expected_density argument
to avoid large memory allocations associated with
sampling large, dense graphs."><title>Create an undirected overlapping degree corrected stochastic blockmodel object — overlapping_sbm • fastRG</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create an undirected overlapping degree corrected stochastic blockmodel object — overlapping_sbm"><meta property="og:description" content="To specify a overlapping stochastic blockmodel, you must specify
the number of nodes (via n),
the mixing matrix (via k or B), and the  block
probabilities (optional, via pi). We provide defaults for most of these
options to enable rapid exploration, or you can invest the effort
for more control over the model parameters. We strongly recommend
setting the expected_degree or expected_density argument
to avoid large memory allocations associated with
sampling large, dense graphs."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fastRG</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.1.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/RoheLab/fastRG/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create an undirected overlapping degree corrected stochastic blockmodel object</h1>
      <small class="dont-index">Source: <a href="https://github.com/RoheLab/fastRG/blob/HEAD/R/undirected_overlapping_sbm.R" class="external-link"><code>R/undirected_overlapping_sbm.R</code></a></small>
      <div class="d-none name"><code>overlapping_sbm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>To specify a overlapping stochastic blockmodel, you must specify
the number of nodes (via <code>n</code>),
the mixing matrix (via <code>k</code> or <code>B</code>), and the  block
probabilities (optional, via <code>pi</code>). We provide defaults for most of these
options to enable rapid exploration, or you can invest the effort
for more control over the model parameters. We <strong>strongly recommend</strong>
setting the <code>expected_degree</code> or <code>expected_density</code> argument
to avoid large memory allocations associated with
sampling large, dense graphs.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">overlapping_sbm</span><span class="op">(</span></span>
<span>  <span class="va">n</span>,</span>
<span>  k <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  B <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  pi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">k</span>, <span class="va">k</span><span class="op">)</span>,</span>
<span>  sort_nodes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  force_pure <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  poisson_edges <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  allow_self_loops <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>n</dt>
<dd><p>The number of nodes in the overlapping SBM.</p></dd>


<dt>k</dt>
<dd><p>(mixing matrix) The number of blocks in the blockmodel.
Use when you don't want to specify the mixing-matrix by hand.
When <code>k</code> is specified, <code>B</code> is set to a diagonal dominant matrix with
value <code>0.8</code> along the diagonal and <code>0.1 / (k - 1)</code> on the
off-diagonal. <code>k</code> defaults to <code>NULL</code>. You must specify either <code>k</code>
or <code>B</code>, but not both.</p></dd>


<dt>B</dt>
<dd><p>(mixing matrix) A <code>k</code> by <code>k</code> matrix of block connection
probabilities. The probability that a node in block <code>i</code> connects
to a node in community <code>j</code> is <code>Poisson(B[i, j])</code>. Must be
an <em>invertible</em>, symmetric square matrix.
<code>matrix</code> and <code>Matrix</code> objects are both
acceptable. If <code>B</code> is not symmetric, it will be
symmetrized via the update <code>B := B + t(B)</code>. Defaults to <code>NULL</code>.
You must specify either <code>k</code> or <code>B</code>, but not both.</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to <code><a href="undirected_factor_model.html">undirected_factor_model</a></code></p><dl><dt><code>expected_degree</code></dt>
<dd><p>If specified, the desired expected degree
of the graph. Specifying <code>expected_degree</code> simply rescales <code>S</code>
to achieve this. Defaults to <code>NULL</code>. Do not specify both
<code>expected_degree</code> and <code>expected_density</code> at the same time.</p></dd>

    <dt><code>expected_density</code></dt>
<dd><p>If specified, the desired expected density
of the graph. Specifying <code>expected_density</code> simply rescales <code>S</code>
to achieve this. Defaults to <code>NULL</code>. Do not specify both
<code>expected_degree</code> and <code>expected_density</code> at the same time.</p></dd>

  
</dl></dd>


<dt>pi</dt>
<dd><p>(block probabilities) Probability of membership in each
block. Membership in each block is independent under the
overlapping SBM. Defaults to <code>rep(1 / k, k)</code>.</p></dd>


<dt>sort_nodes</dt>
<dd><p>Logical indicating whether or not to sort the nodes
so that they are grouped by block. Useful for plotting.
Defaults to <code>TRUE</code>.</p></dd>


<dt>force_pure</dt>
<dd><p>Logical indicating whether or not to force presence of
"pure nodes" (nodes that belong only to a single community) for the sake
of identifiability. To include pure nodes, block membership sampling
first proceeds as per usual. Then, after it is complete, <code>k</code> nodes
are chosen randomly as pure nodes, one for each block. Defaults to <code>TRUE</code>.</p></dd>


<dt>poisson_edges</dt>
<dd><p>Logical indicating whether or not
multiple edges are allowed to form between a pair of
nodes. Defaults to <code>TRUE</code>. When <code>FALSE</code>, sampling proceeds
as usual, and duplicate edges are removed afterwards. Further,
when <code>FALSE</code>, we assume that <code>S</code> specifies a desired between-factor
connection probability, and back-transform this <code>S</code> to the
appropriate Poisson intensity parameter to approximate Bernoulli
factor connection probabilities. See Section 2.3 of Rohe et al. (2017)
for some additional details.</p></dd>


<dt>allow_self_loops</dt>
<dd><p>Logical indicating whether or not
nodes should be allowed to form edges with themselves.
Defaults to <code>TRUE</code>. When <code>FALSE</code>, sampling proceeds allowing
self-loops, and these are then removed after the fact.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An <code>undirected_overlapping_sbm</code> S3 object, a subclass of the
<code><a href="undirected_factor_model.html">undirected_factor_model()</a></code> with the following additional
fields:</p><ul><li><p><code>pi</code>: Sampling probabilities for each block.</p></li>
<li><p><code>sorted</code>: Logical indicating where nodes are arranged by
block (and additionally by degree heterogeneity parameter)
within each block.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="generative-model">Generative Model<a class="anchor" aria-label="anchor" href="#generative-model"></a></h2>
    <p>There are two levels of randomness in a degree-corrected
overlapping stochastic blockmodel. First, for each node, we
independently determine if that node is a member of each block. This is
handled by <code>overlapping_sbm()</code>. Then, given these block memberships,
we randomly sample edges between nodes. This second
operation is handled by <code><a href="sample_edgelist.html">sample_edgelist()</a></code>,
<code><a href="sample_sparse.html">sample_sparse()</a></code>, <code><a href="sample_igraph.html">sample_igraph()</a></code> and
<code><a href="sample_tidygraph.html">sample_tidygraph()</a></code>, depending depending on your desired
graph representation.</p><div class="section">
<h3 id="identifiability">Identifiability<a class="anchor" aria-label="anchor" href="#identifiability"></a></h3>


<p>In order to be identifiable, an overlapping SBM must satisfy two conditions:</p><ol><li><p><code>B</code> must be invertible, and</p></li>
<li><p>the must be at least one "pure node" in each block that belongs to no
other blocks.</p></li>
</ol></div>

<div class="section">
<h3 id="block-memberships">Block memberships<a class="anchor" aria-label="anchor" href="#block-memberships"></a></h3>


<p>Note that some nodes may not belong to any blocks.</p>
<p><strong>TODO</strong></p>
</div>

<div class="section">
<h3 id="edge-formulation">Edge formulation<a class="anchor" aria-label="anchor" href="#edge-formulation"></a></h3>


<p>Once we know the block memberships, we need one more
ingredient, which is the baseline intensity of connections
between nodes in block <code>i</code> and block <code>j</code>. Then each edge
\(A_{i,j}\) is Poisson distributed with parameter</p>
<p><strong>TODO</strong></p>
</div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Kaufmann, Emilie, Thomas Bonald, and Marc Lelarge.
"A Spectral Algorithm with Additive Clustering for the Recovery of
Overlapping Communities in Networks," Vol. 9925.
Lecture Notes in Computer Science.
Cham: Springer International Publishing, 2016.
https://doi.org/10.1007/978-3-319-46379-7.</p>
<p>Latouche, Pierre, Etienne Birmelé, and Christophe Ambroise.
"Overlapping Stochastic Block Models with Application to the
French Political Blogosphere." The Annals of Applied Statistics 5,
no. 1 (March 2011): 309–36. https://doi.org/10.1214/10-AOAS382.</p>
<p>Zhang, Yuan, Elizaveta Levina, and Ji Zhu. "Detecting
Overlapping Communities in Networks Using Spectral Methods."
ArXiv:1412.3432, December 10, 2014. http://arxiv.org/abs/1412.3432.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other stochastic block models: 
<code><a href="dcsbm.html">dcsbm</a>()</code>,
<code><a href="directed_dcsbm.html">directed_dcsbm</a>()</code>,
<code><a href="mmsbm.html">mmsbm</a>()</code>,
<code><a href="planted_partition.html">planted_partition</a>()</code>,
<code><a href="sbm.html">sbm</a>()</code></p>
<p>Other undirected graphs: 
<code><a href="chung_lu.html">chung_lu</a>()</code>,
<code><a href="dcsbm.html">dcsbm</a>()</code>,
<code><a href="erdos_renyi.html">erdos_renyi</a>()</code>,
<code><a href="mmsbm.html">mmsbm</a>()</code>,
<code><a href="planted_partition.html">planted_partition</a>()</code>,
<code><a href="sbm.html">sbm</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">27</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lazy_overlapping_sbm</span> <span class="op">&lt;-</span> <span class="fu">overlapping_sbm</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, k <span class="op">=</span> <span class="fl">5</span>, expected_density <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Setting `B` to a matrix with value 0.8 on the diagonal and 0.1 / (k - 1) on the off-diagonal. This parameterization may change in the future. Explicitly set `B` for reproducible results.</span>
<span class="r-in"><span><span class="va">lazy_overlapping_sbm</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Undirected Degree-Corrected Overlapping Blockmodel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nodes (n): 1000 (sorted)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Blocks (k): 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Traditional Overlapping SBM parameterization:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Block memberships (Z): 1000 x 5 [dgCMatrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Block probabilities (pi): 5 [numeric] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Block connection propensities (B): 5 x 5 [matrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Factor model parameterization:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X: 1000 x 5 [dgCMatrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S: 5 x 5 [dsyMatrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Poisson edges: TRUE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Allow self loops: TRUE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected edges: 4995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected degree: 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected density: 0.01</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># sometimes you gotta let the world burn and</span></span></span>
<span class="r-in"><span><span class="co"># sample a wildly dense graph</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dense_lazy_overlapping_sbm</span> <span class="op">&lt;-</span> <span class="fu">overlapping_sbm</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">500</span>, k <span class="op">=</span> <span class="fl">3</span>, expected_density <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Setting `B` to a matrix with value 0.8 on the diagonal and 0.1 / (k - 1) on the off-diagonal. This parameterization may change in the future. Explicitly set `B` for reproducible results.</span>
<span class="r-in"><span><span class="va">dense_lazy_overlapping_sbm</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Undirected Degree-Corrected Overlapping Blockmodel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nodes (n): 500 (sorted)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Blocks (k): 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Traditional Overlapping SBM parameterization:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Block memberships (Z): 500 x 3 [dgCMatrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Block probabilities (pi): 3 [numeric] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Block connection propensities (B): 3 x 3 [matrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Factor model parameterization:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X: 500 x 3 [dgCMatrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S: 3 x 3 [dsyMatrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Poisson edges: TRUE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Allow self loops: TRUE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected edges: 99800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected degree: 199.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected density: 0.8</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">k</span> <span class="op">&lt;-</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span></span>
<span class="r-in"><span><span class="va">B</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">k</span> <span class="op">*</span> <span class="va">k</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="va">k</span>, ncol <span class="op">=</span> <span class="va">k</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">/</span> <span class="fl">5</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">custom_overlapping_sbm</span> <span class="op">&lt;-</span> <span class="fu">overlapping_sbm</span><span class="op">(</span></span></span>
<span class="r-in"><span>  n <span class="op">=</span> <span class="fl">200</span>,</span></span>
<span class="r-in"><span>  B <span class="op">=</span> <span class="va">B</span>,</span></span>
<span class="r-in"><span>  pi <span class="op">=</span> <span class="va">pi</span>,</span></span>
<span class="r-in"><span>  expected_degree <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">custom_overlapping_sbm</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Undirected Degree-Corrected Overlapping Blockmodel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nodes (n): 200 (sorted)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Blocks (k): 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Traditional Overlapping SBM parameterization:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Block memberships (Z): 200 x 5 [dgCMatrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Block probabilities (pi): 5 [numeric] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Block connection propensities (B): 5 x 5 [matrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Factor model parameterization:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X: 200 x 5 [dgCMatrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S: 5 x 5 [dgeMatrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Poisson edges: TRUE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Allow self loops: TRUE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected edges: 1000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected degree: 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected density: 0.05025</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">edgelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="sample_edgelist.html">sample_edgelist</a></span><span class="op">(</span><span class="va">custom_overlapping_sbm</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">edgelist</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1,026 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     from    to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>     3    33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     2     8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>    28    39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>    26    33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>    10    19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>    19    32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>    21    24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>    25    41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>    23    33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1,016 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># efficient eigendecompostion that leverages low-rank structure in</span></span></span>
<span class="r-in"><span><span class="co"># E(A) so that you don't have to form E(A) to find eigenvectors,</span></span></span>
<span class="r-in"><span><span class="co"># as E(A) is typically dense. computation is</span></span></span>
<span class="r-in"><span><span class="co"># handled via RSpectra</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">population_eigs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/RSpectra/man/eigs.html" class="external-link">eigs_sym</a></span><span class="op">(</span><span class="va">custom_overlapping_sbm</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://alexpghayes.com" class="external-link">Alex Hayes</a>, Karl Rohe, Jun Tao, Xintian Han, Norbert Binkiewicz.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

