<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="To specify a planted partition model, you must specify
the number of nodes (via n), the mixing matrix (optional, either via
within_block/between_block or a/b),
and the relative block probabilites (optional, via pi).
We provide sane defaults for most of these options to enable
rapid exploration, or you can invest the effort
for more control over the model parameters. We strongly recommend
setting the expected_degree or expected_density argument
to avoid large memory allocations associated with
sampling large, dense graphs."><title>Create an undirected planted partition object — planted_partition • fastRG</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create an undirected planted partition object — planted_partition"><meta property="og:description" content="To specify a planted partition model, you must specify
the number of nodes (via n), the mixing matrix (optional, either via
within_block/between_block or a/b),
and the relative block probabilites (optional, via pi).
We provide sane defaults for most of these options to enable
rapid exploration, or you can invest the effort
for more control over the model parameters. We strongly recommend
setting the expected_degree or expected_density argument
to avoid large memory allocations associated with
sampling large, dense graphs."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fastRG</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.0.9004</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/RoheLab/fastRG/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create an undirected planted partition object</h1>
      <small class="dont-index">Source: <a href="https://github.com/RoheLab/fastRG/blob/HEAD/R/undirected_planted_partition.R" class="external-link"><code>R/undirected_planted_partition.R</code></a></small>
      <div class="d-none name"><code>planted_partition.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>To specify a planted partition model, you must specify
the number of nodes (via <code>n</code>), the mixing matrix (optional, either via
<code>within_block/between_block</code> or <code>a/b</code>),
and the relative block probabilites (optional, via <code>pi</code>).
We provide sane defaults for most of these options to enable
rapid exploration, or you can invest the effort
for more control over the model parameters. We <strong>strongly recommend</strong>
setting the <code>expected_degree</code> or <code>expected_density</code> argument
to avoid large memory allocations associated with
sampling large, dense graphs.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">planted_partition</span><span class="op">(</span>
  <span class="va">n</span>,
  <span class="va">k</span>,
  <span class="va">...</span>,
  within_block <span class="op">=</span> <span class="cn">NULL</span>,
  between_block <span class="op">=</span> <span class="cn">NULL</span>,
  a <span class="op">=</span> <span class="cn">NULL</span>,
  b <span class="op">=</span> <span class="cn">NULL</span>,
  pi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">k</span>, <span class="va">k</span><span class="op">)</span>,
  edge_distribution <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"poisson"</span>, <span class="st">"bernoulli"</span><span class="op">)</span>,
  sort_nodes <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>n</dt>
<dd><p>The number of nodes in the network. Must be
a positive integer. This argument is required.</p></dd>


<dt>k</dt>
<dd><p>Number of planted partitions, as a positive integer.
This argument is required.</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to <code><a href="undirected_factor_model.html">undirected_factor_model</a></code></p><dl><dt><code>expected_degree</code></dt>
<dd><p>If specified, the desired expected degree
of the graph. Specifying <code>expected_degree</code> simply rescales <code>S</code>
to achieve this. Defaults to <code>NULL</code>. Do not specify both
<code>expected_degree</code> and <code>expected_density</code> at the same time.</p></dd>

    <dt><code>expected_density</code></dt>
<dd><p>If specified, the desired expected density
of the graph. Specifying <code>expected_density</code> simply rescales <code>S</code>
to achieve this. Defaults to <code>NULL</code>. Do not specify both
<code>expected_degree</code> and <code>expected_density</code> at the same time.</p></dd>

  
</dl></dd>


<dt>within_block</dt>
<dd><p>Probability of within block edges. Must be
strictly between zero and one. Must specify either
<code>within_block</code> and <code>between_block</code>, or <code>a</code> and <code>b</code> to determine
edge probabilities.</p></dd>


<dt>between_block</dt>
<dd><p>Probability of between block edges. Must be
strictly between zero and one. Must specify either
<code>within_block</code> and <code>between_block</code>, or <code>a</code> and <code>b</code> to determine
edge probabilities.</p></dd>


<dt>a</dt>
<dd><p>Integer such that <code>a/n</code> is the probability of edges
within a block. Useful for sparse graphs. Must specify either
<code>within_block</code> and <code>between_block</code>, or <code>a</code> and <code>b</code> to determine
edge probabilities.</p></dd>


<dt>b</dt>
<dd><p>Integer such that <code>b/n</code> is the probability of edges
between blocks. Useful for sparse graphs. Must specify either
<code>within_block</code> and <code>between_block</code>, or <code>a</code> and <code>b</code> to determine
edge probabilities.</p></dd>


<dt>pi</dt>
<dd><p>(relative block probabilities) Relative block
probabilities. Must be positive, but do not need to sum
to one, as they will be normalized internally.
Must match the dimensions of <code>B</code> or <code>k</code>. Defaults to
<code>rep(1 / k, k)</code>, or a balanced blocks.</p></dd>


<dt>edge_distribution</dt>
<dd><p>Either <code>"poisson"</code> or <code>"bernoulli"</code>. The
default is <code>"poisson"</code>, in which case the SBM can be a
multigraph, i.e. multiple edges between the same two nodes
are allowed. If <code>edge_distribution == "bernoulli"</code> only a
single edge is allowed between any pair of nodes. See Section 2.3
of Rohe et al (2017) for details.</p></dd>


<dt>sort_nodes</dt>
<dd><p>Logical indicating whether or not to sort the nodes
so that they are grouped by block and by <code>theta</code>. Useful for plotting.
Defaults to <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An <code>undirected_planted_partition</code> S3 object, which is a subclass
of the <code><a href="sbm.html">sbm()</a></code> object, with additional fields:</p><ul><li><p><code>within_block</code>: The probability of edge formation within a block.</p></li>
<li><p><code>between_block</code>: The probability of edge formation between two distinct
blocks.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A planted partition model is stochastic blockmodel in which
the diagonal and the off-diagonal of the mixing matrix <code>B</code>
are both constant. This means that edge probabilities
depend only on whether two nodes belong to the same block,
or to different blocks, but the particular blocks themselves
don't have any impact apart from this.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other stochastic block models: 
<code><a href="dcsbm.html">dcsbm</a>()</code>,
<code><a href="directed_dcsbm.html">directed_dcsbm</a>()</code>,
<code><a href="overlapping_sbm.html">overlapping_sbm</a>()</code>,
<code><a href="sbm.html">sbm</a>()</code></p>
<p>Other undirected graphs: 
<code><a href="chung_lu.html">chung_lu</a>()</code>,
<code><a href="dcsbm.html">dcsbm</a>()</code>,
<code><a href="erdos_renyi.html">erdos_renyi</a>()</code>,
<code><a href="overlapping_sbm.html">overlapping_sbm</a>()</code>,
<code><a href="sbm.html">sbm</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">27</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">lazy_pp</span> <span class="op">&lt;-</span> <span class="fu">planted_partition</span><span class="op">(</span></span>
<span class="r-in">  n <span class="op">=</span> <span class="fl">1000</span>,</span>
<span class="r-in">  k <span class="op">=</span> <span class="fl">5</span>,</span>
<span class="r-in">  expected_density <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span class="r-in">  within_block <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span class="r-in">  between_block <span class="op">=</span> <span class="fl">0.01</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">lazy_pp</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Undirected Stochastic Blockmodel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nodes (n): 1000 (arranged by block)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Blocks (k): 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Traditional SBM parameterization:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Block memberships (z): 1000 [factor] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Block probabilities (pi): 5 [numeric] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Edge distribution: poisson</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Factor model parameterization:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X: 1000 x 5 [dgCMatrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> S: 5 x 5 [dsyMatrix] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected edges: 10000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected degree: 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Expected density: 0.01</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://alexpghayes.com" class="external-link">Alex Hayes</a>, Karl Rohe, Jun Tao, Xintian Han, Norbert Binkiewicz.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

    </footer></div>

  

  

  </body></html>

