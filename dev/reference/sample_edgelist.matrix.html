<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Low level interface to sample RPDG edgelists — sample_edgelist.matrix • fastRG</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Low level interface to sample RPDG edgelists — sample_edgelist.matrix" />
<meta property="og:description" content="This is a breaks-off, no safety checks interface.
We strongly recommend that you do not call
sample_edgelist.matrix() unless you know what you are doing,
and even then, we still do not recommend it, as you will
bypass all typical input validation.
extremely loud coughing All those who bypass input
validation suffer foolishly at their own hand.
extremely loud coughing" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fastRG</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.3.0.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/RoheLab/fastRG/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Low level interface to sample RPDG edgelists</h1>
    <small class="dont-index">Source: <a href='https://github.com/RoheLab/fastRG/blob/master/R/sample_edgelist.R'><code>R/sample_edgelist.R</code></a></small>
    <div class="hidden name"><code>sample_edgelist.matrix.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><strong>This is a breaks-off, no safety checks interface.</strong>
We strongly recommend that you do not call
<code>sample_edgelist.matrix()</code> unless you know what you are doing,
and even then, we still do not recommend it, as you will
bypass all typical input validation.
<em><strong>extremely loud coughing</strong></em> All those who bypass input
validation suffer foolishly at their own hand.
<em><strong>extremely loud coughing</strong></em></p>
    </div>

    <pre class="usage"><span class='co'># S3 method for matrix</span>
<span class='fu'><a href='sample_edgelist.directed_erdos_renyi.html'>sample_edgelist</a></span><span class='op'>(</span>
  <span class='va'>factor_model</span>,
  <span class='va'>S</span>,
  <span class='va'>Y</span>,
  <span class='va'>directed</span>,
  <span class='va'>...</span>,
  poisson_edges <span class='op'>=</span> <span class='cn'>TRUE</span>,
  allow_self_loops <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span>

<span class='co'># S3 method for Matrix</span>
<span class='fu'><a href='sample_edgelist.directed_erdos_renyi.html'>sample_edgelist</a></span><span class='op'>(</span>
  <span class='va'>factor_model</span>,
  <span class='va'>S</span>,
  <span class='va'>Y</span>,
  <span class='va'>directed</span>,
  <span class='va'>...</span>,
  poisson_edges <span class='op'>=</span> <span class='cn'>TRUE</span>,
  allow_self_loops <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>factor_model</th>
      <td><p>An <code>n</code> by <code>k1</code> <code><a href='https://rdrr.io/r/base/matrix.html'>matrix()</a></code> or <code><a href='https://rdrr.io/pkg/Matrix/man/Matrix.html'>Matrix::Matrix()</a></code>
of latent node positions encoding incoming edge community membership.
The <code>X</code> matrix in Rohe et al (2017). Naming differs only for
consistency with the S3 generic.</p></td>
    </tr>
    <tr>
      <th>S</th>
      <td><p>A <code>k1</code> by <code>k2</code> mixing <code><a href='https://rdrr.io/r/base/matrix.html'>matrix()</a></code> or <code><a href='https://rdrr.io/pkg/Matrix/man/Matrix.html'>Matrix::Matrix()</a></code>. In
the undirect case this is assumed to be symmetric but <strong>we do not
check that this is the case</strong>.</p></td>
    </tr>
    <tr>
      <th>Y</th>
      <td><p>A <code>d</code> by <code>k2</code> <code><a href='https://rdrr.io/r/base/matrix.html'>matrix()</a></code> or <code><a href='https://rdrr.io/pkg/Matrix/man/Matrix.html'>Matrix::Matrix()</a></code> of latent
node positions encoding outgoing edge community membership.</p></td>
    </tr>
    <tr>
      <th>directed</th>
      <td><p>Logical indicating whether or not the graph should be
directed. When <code>directed = FALSE</code>, symmetrizes <code>S</code> internally.
<code>Y = X</code> together with a symmetric <code>S</code> implies a symmetric
expectation (although not necessarily an undirected graph).
When <code>directed = FALSE</code>, samples a directed graph with
symmetric expectation, and then adds edges until symmetry
is achieved.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Ignored. Do not use.</p></td>
    </tr>
    <tr>
      <th>poisson_edges</th>
      <td><p>Logical indicating whether or not
multiple edges are allowed to form between a pair of
nodes. Defaults to <code>TRUE</code>. When <code>FALSE</code>, sampling proceeds
as usual, and duplicate edges are removed afterwards.
See Section 2.3 of Rohe et al (2017) for additional
details.</p></td>
    </tr>
    <tr>
      <th>allow_self_loops</th>
      <td><p>Logical indicating whether or not
nodes should be allowed to form edges with themselves.
Defaults to <code>TRUE</code>. When <code>FALSE</code>, sampling proceeds allowing
self-loops, and these are then removed after the fact.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A single realization of a random Poisson (or Bernoulli)
Dot Product Graph, represented as a <code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble::tibble()</a></code> with two
integer columns, <code>from</code> and <code>to</code>.</p>
<p>In the undirected case, <code>from</code> and <code>to</code> do not encode
information about edge direction, but we will always have
<code>from &lt;= to</code> for convenience of edge identification.
To avoid handling such considerations yourself, we recommend using
<code><a href='sample_sparse.directed_erdos_renyi.html'>sample_sparse()</a></code>, <code><a href='sample_igraph.directed_erdos_renyi.html'>sample_igraph()</a></code>, and <code><a href='sample_tidygraph.directed_erdos_renyi.html'>sample_tidygraph()</a></code>
over <code><a href='sample_edgelist.directed_erdos_renyi.html'>sample_edgelist()</a></code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function implements the <code>fastRG</code> algorithm as
described in Rohe et al (2017). Please see the paper
(which is short and open access!!) for details.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Rohe, Karl, Jun Tao, Xintian Han, and Norbert Binkiewicz. 2017.
"A Note on Quickly Sampling a Sparse Matrix with Low Rank Expectation."
Journal of Machine Learning Research; 19(77):1-13, 2018.
<a href='https://www.jmlr.org/papers/v19/17-128.html'>https://www.jmlr.org/papers/v19/17-128.html</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other samplers: 
<code><a href='sample_edgelist.directed_erdos_renyi.html'>sample_edgelist.directed_erdos_renyi</a>()</code>,
<code><a href='sample_igraph.directed_erdos_renyi.html'>sample_igraph.directed_erdos_renyi</a>()</code>,
<code><a href='sample_sparse.directed_erdos_renyi.html'>sample_sparse.directed_erdos_renyi</a>()</code>,
<code><a href='sample_tidygraph.directed_erdos_renyi.html'>sample_tidygraph.directed_erdos_renyi</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>46</span><span class='op'>)</span>

<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>10000</span>
<span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fl'>1000</span>

<span class='va'>k1</span> <span class='op'>&lt;-</span> <span class='fl'>5</span>
<span class='va'>k2</span> <span class='op'>&lt;-</span> <span class='fl'>3</span>

<span class='va'>X</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span>n <span class='op'>=</span> <span class='va'>n</span> <span class='op'>*</span> <span class='va'>k1</span>, <span class='fl'>1</span><span class='op'>)</span>, nrow <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span>
<span class='va'>S</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span>n <span class='op'>=</span> <span class='va'>k1</span> <span class='op'>*</span> <span class='va'>k2</span>, <span class='fl'>0</span>, <span class='fl'>.1</span><span class='op'>)</span>, nrow <span class='op'>=</span> <span class='va'>k1</span><span class='op'>)</span>
<span class='va'>Y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span>n <span class='op'>=</span> <span class='va'>d</span> <span class='op'>*</span> <span class='va'>k2</span>, <span class='fl'>1</span><span class='op'>)</span>, nrow <span class='op'>=</span> <span class='va'>d</span><span class='op'>)</span>

<span class='fu'><a href='sample_edgelist.directed_erdos_renyi.html'>sample_edgelist</a></span><span class='op'>(</span><span class='va'>X</span>, <span class='va'>S</span>, <span class='va'>Y</span>, <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 8,089,734 × 2</span>
#&gt;     from    to
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span>  <span style='text-decoration: underline;'>2</span>325   310
#&gt; <span style='color: #BCBCBC;'> 2</span>   531   962
#&gt; <span style='color: #BCBCBC;'> 3</span>    83   779
#&gt; <span style='color: #BCBCBC;'> 4</span>  <span style='text-decoration: underline;'>2</span>894   294
#&gt; <span style='color: #BCBCBC;'> 5</span>  <span style='text-decoration: underline;'>5</span>454   157
#&gt; <span style='color: #BCBCBC;'> 6</span>  <span style='text-decoration: underline;'>7</span>379   677
#&gt; <span style='color: #BCBCBC;'> 7</span>  <span style='text-decoration: underline;'>9</span>789   178
#&gt; <span style='color: #BCBCBC;'> 8</span>  <span style='text-decoration: underline;'>3</span>077   750
#&gt; <span style='color: #BCBCBC;'> 9</span>  <span style='text-decoration: underline;'>7</span>587   992
#&gt; <span style='color: #BCBCBC;'>10</span>  <span style='text-decoration: underline;'>1</span>929   387
#&gt; <span style='color: #949494;'># … with 8,089,724 more rows</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alex Hayes, Karl Rohe, Jun Tao, Xintian Han, Norbert Binkiewicz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


