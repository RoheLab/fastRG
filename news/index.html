<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • fastRG</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fastRG</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/consistency.html">Demonstration: simulation study</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RoheLab/fastRG/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/RoheLab/fastRG/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="fastrg-040">fastRG 0.4.0<a class="anchor" aria-label="anchor" href="#fastrg-040"></a></h2>
<div class="section level3">
<h3 id="major-changes-0-4-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-0-4-0"></a></h3>
<ul><li>This release fixes a long-standing inconsistency in how degrees are counted, which resulted in sampling twice as many edges as desired in <code><a href="../reference/undirected_factor_model.html">undirected_factor_model()</a></code>. See below for details (<a href="https://github.com/RoheLab/fastRG/issues/19" class="external-link">#19</a>). This also caused population singular values for undirected factors models to be off by a factor of 2 (<a href="https://github.com/RoheLab/fastRG/issues/31" class="external-link">#31</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-4-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-4-0"></a></h3>
<ul><li><p>Specifying both <code>k</code> and <code>B</code> in <code><a href="../reference/dcsbm.html">dcsbm()</a></code> and <code><a href="../reference/sbm.html">sbm()</a></code> now results in an error. You should only specify one of these arguments.</p></li>
<li><p>It is now possible to specify the precise number of nodes in each block of a <code><a href="../reference/dcsbm.html">dcsbm()</a></code> (and subclasses <code><a href="../reference/sbm.html">sbm()</a></code> and <code><a href="../reference/planted_partition.html">planted_partition()</a></code>) via the <code>block_sizes</code> argument. This makes it easier to construct blockmodels with exactly repeated eigenvalues. Additionally, the default behavior is now to use this argument and to balance block sizes as evenly as possible. Previously, the default behavior was to sample blocks memberships with equal probability.</p></li>
</ul></div>
<div class="section level3">
<h3 id="non-breaking-changes-0-4-0">Non-breaking changes<a class="anchor" aria-label="anchor" href="#non-breaking-changes-0-4-0"></a></h3>
<ul><li>Added <code><a href="../articles/consistency.html">vignette("consistency")</a></code> demonstrating how to check consistency of spectral estimators using <code>fastRG</code> for sampling and population spectra computations (<a href="https://github.com/RoheLab/fastRG/issues/33" class="external-link">#33</a>, <a href="https://github.com/RoheLab/fastRG/issues/43" class="external-link">#43</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="details-about-degree-over-sampling-bug-and-the-fix-0-4-0">Details about degree over-sampling bug and the fix<a class="anchor" aria-label="anchor" href="#details-about-degree-over-sampling-bug-and-the-fix-0-4-0"></a></h3>
<p>The <code>fastRG</code> sampling algorithm, as implemented in <code><a href="../reference/sample_edgelist.matrix.html">sample_edgelist.matrix()</a></code>, is fundamentally a sampler for asymmetric, directed networks with conditional expectation <span class="math inline">\(\mathbb E[A \mid X, S, Y] = X S Y^\top \in \mathbb R^{n_1 \times n_2}\)</span>. That is, you can think of the sampler as a very efficient procedure for iterating through <span class="math inline">\(i = 1, ..., n_1\)</span> and <span class="math inline">\(j = 1, ..., n_2\)</span> and sampling from a Poisson with rate <span class="math inline">\((X S Y^\top)_{ij}\)</span>.</p>
<p>However, we would also like to use this same sampler to sample from undirected networks. In an undirected networks, the conditional expectation <span class="math inline">\(\mathbb E[A \mid X, S] = X S X^\top \in \mathbb R^{n \times n}\)</span> is a square matrix with <span class="math inline">\((X S X^\top)_{ij} = (X S X^\top)_{ji}\)</span>. To sample from this matrix, it’s typical to sample the upper triangle of <span class="math inline">\(A\)</span> from a Poisson with rate <span class="math inline">\((X S X^\top)_{ij}\)</span> for all <span class="math inline">\(1 \le i \le j \le n\)</span>, and then fill the lower triangle of <span class="math inline">\(A\)</span> to make <span class="math inline">\(A\)</span> symmetric.</p>
<p>Since the <code>fastRG</code> algorithm samples <span class="math inline">\(A_{ij}\)</span> for all <span class="math inline">\(i, j\)</span>, not just the upper triangle of <span class="math inline">\(A\)</span>, we use a trick to sample from undirected networks. First, we force the conditional expectation to be symmetric by symmetrizing <span class="math inline">\(S\)</span>. Then, we still sample for all <span class="math inline">\(i, j\)</span>. That is, to set <span class="math inline">\(A_{ij}\)</span> we sample once from a Poisson with rate <span class="math inline">\((X S X^\top)_{ij}\)</span> and once from a Poisson with rate <span class="math inline">\((X S X^\top)_{ji}\)</span> (these rates are equal by symmetry!). Then we set <span class="math inline">\(A_{ij} = A_{ji}\)</span> to the sum of these Poisson random variables. The issue is that this doubles the expected value of <span class="math inline">\(A_{ij} = A_{ji}\)</span> and so we sample twice as many edges as we should. Up until this release of <code>fastRG</code>, we’ve unfortunately been doing this double sampling in undirected networks (<a href="https://github.com/RoheLab/fastRG/issues/19" class="external-link">#19</a>).</p>
<p>In this release, we fix this over-sampling. The key is that we divide <span class="math inline">\(S\)</span> by two at sampling time. We do not modify <span class="math inline">\(S\)</span> at all in the <code><a href="../reference/undirected_factor_model.html">undirected_factor_model()</a></code>! You can always use <span class="math inline">\(X S X^\top\)</span> to compute the expected value of <span class="math inline">\(A\)</span>. This new change <em>only affects sampling</em>.</p>
<p>That is, instead of passing the <span class="math inline">\(S\)</span> from an <code><a href="../reference/undirected_factor_model.html">undirected_factor_model()</a></code> to the sampler <code><a href="../reference/sample_edgelist.matrix.html">sample_edgelist.matrix()</a></code>, we pass <span class="math inline">\(S / 2\)</span> (see <code><a href="../reference/sample_edgelist.html">sample_edgelist.undirected_factor_model()</a></code>). This fixes double sampling on the off-diagonal of <span class="math inline">\(A\)</span>. The downside is that we’re now undersampling by half the diagonal of <span class="math inline">\(A\)</span>. I’m assuming that for most use cases this doesn’t matter. We could correct for this undersampling of the diagonal of <span class="math inline">\(A\)</span>, so please open an issue if self-loops are important to your project.</p>
<p>As a consequence of this change, <span class="math inline">\(A\)</span> and <span class="math inline">\(\mathbb E[A | X, S]\)</span> show now be on the same scale, rather than off by a factor of 2. Importantly, the spectrums should match up now, so you can now use <code>fastRG</code> to check how closely you’re recovering the spectrum of the your model. See <code><a href="../articles/consistency.html">vignette("consistency")</a></code> for a quick demonstration showing consistency of spectral estimates.</p>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.3" id="fastrg-033">fastRG 0.3.3<a class="anchor" aria-label="anchor" href="#fastrg-033"></a></h2><p class="text-muted">CRAN release: 2025-07-24</p>
<ul><li>Improve cross-linking to documentation of other packages for CRAN</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2" id="fastrg-032">fastRG 0.3.2<a class="anchor" aria-label="anchor" href="#fastrg-032"></a></h2><p class="text-muted">CRAN release: 2023-08-21</p>
<ul><li>Added documentation about block sorting in blockmodels when <code>sort_nodes = TRUE</code> (<a href="https://github.com/RoheLab/fastRG/issues/35" class="external-link">#35</a>). Blocks are now only sorted when <code>sort_nodes = TRUE</code>, although they were previously always sorted. In directed stochastic blocks, flipped incoming and outgoing blocks, such that <code>X</code> now contains info about outgoing blocks and <code>Y</code> now contains info about incoming blocks, as you would expected if <code>A[i, j]</code> encodes an edge from node <code>i</code> to node <code>j</code>
</li>
<li>Fixed bug where isolated nodes were sometimes dropped from igraph and tidygraph objects (<a href="https://github.com/RoheLab/fastRG/issues/35" class="external-link">#35</a>)</li>
<li>Added <code><a href="../reference/plot_expectation.html">plot_expectation()</a></code>, <code><a href="../reference/plot_expectation.html">plot_sparse_matrix()</a></code> and <code><a href="../reference/expectation.html">expectation()</a></code> utilities (<a href="https://github.com/RoheLab/fastRG/issues/34" class="external-link">#34</a>)</li>
<li>Fixed incorrect computation in <code><a href="../reference/expected_edges.html">expected_degrees()</a></code> (<a href="https://github.com/RoheLab/fastRG/issues/34" class="external-link">#34</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1" id="fastrg-031">fastRG 0.3.1<a class="anchor" aria-label="anchor" href="#fastrg-031"></a></h2><p class="text-muted">CRAN release: 2022-06-30</p>
<div class="section level3">
<h3 id="breaking-changes-0-3-1">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-3-1"></a></h3>
<ul><li>Users must now pass <code>poisson_edges</code> and <code>allow_self_loops</code> arguments to model object constructors (i.e. <code><a href="../reference/sbm.html">sbm()</a></code>) rather than <code>sample_*()</code> methods. Additionally, when <code>poisson_edges = FALSE</code>, the mixing matrix <code>S</code> is taken (after degree-scaling and possible symmetrization for undirected models) to represent desired inter-factor connection probabilities, and thus should be between zero and one. This Bernoulli-parameterized <code>S</code> is then transformed into the equivalent (or approximately equivalent) Poisson <code>S</code>. See Section 2.3 of Rohe et al. (2017) for additional details about this conversion and approximation of Bernoulli graphs by Poisson graphs (<a href="https://github.com/RoheLab/fastRG/issues/29" class="external-link">#29</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="other-news-0-3-1">Other news<a class="anchor" aria-label="anchor" href="#other-news-0-3-1"></a></h3>
<ul><li>Add overlapping stochastic blockmodel (<a href="https://github.com/RoheLab/fastRG/issues/7" class="external-link">#7</a>, <a href="https://github.com/RoheLab/fastRG/issues/25" class="external-link">#25</a>)</li>
<li>Add directed degree-corrected stochastic blockmodels (<a href="https://github.com/RoheLab/fastRG/issues/18" class="external-link">#18</a>)</li>
<li>Allow rank 1 undirected stochastic block models</li>
<li>Fix bug where isolated nodes where dropped from sampled tidygraphs (<a href="https://github.com/RoheLab/fastRG/issues/23" class="external-link">#23</a>)</li>
<li>Allow users to force model identification in DC-SBMs with <code>force_identifiability = TRUE</code>, and in overlapping SBMs with <code>force_pure = TRUE</code>, which are now the default.</li>
<li>Improve population expected degree/density computations (<a href="https://github.com/RoheLab/fastRG/issues/19" class="external-link">#19</a>)</li>
<li>Let user know when <code>theta_out</code> is automatically generated for directed DC-SBMs (<a href="https://github.com/RoheLab/fastRG/issues/22" class="external-link">#22</a>)</li>
<li>Fixed an obscure but pesky issue sampling from models with empty blocks (<a href="https://github.com/RoheLab/fastRG/issues/13" class="external-link">#13</a>)</li>
<li>Documented <code><a href="https://rdrr.io/pkg/RSpectra/man/svds.html" class="external-link">svds()</a></code> and <code><a href="https://rdrr.io/pkg/RSpectra/man/eigs.html" class="external-link">eigs_sym()</a></code> methods, which allow users to take spectral decompositions of expected adjacency matrices conditional <code>X</code>, <code>S</code> and <code>Y</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="fastrg-030">fastRG 0.3.0<a class="anchor" aria-label="anchor" href="#fastrg-030"></a></h2><p class="text-muted">CRAN release: 2021-02-26</p>
<ul><li>Released to CRAN</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0.9000" id="fastrg-0209000">fastRG 0.2.0.9000<a class="anchor" aria-label="anchor" href="#fastrg-0209000"></a></h2>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://alexpghayes.com" class="external-link">Alex Hayes</a>, Karl Rohe, Jun Tao, Xintian Han, Norbert Binkiewicz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

